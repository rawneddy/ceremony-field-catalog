{
  "task": "Review UI Design Documents for Implementation Readiness",
  "context": {
    "project": "Ceremony Field Catalog UI",
    "documents_to_review": [
      "docs/ui/REQUIREMENTS.md",
      "docs/ui/IMPLEMENTATION.md"
    ],
    "review_focus": "A significant new feature was just added: Faceted Metadata Filtering via a left sidebar. This replaces the previous inline client-side filtering approach. The reviewer should evaluate whether the UI design is now complete and ready for implementation.",
    "what_changed": {
      "new_feature": "Left sidebar with faceted metadata filtering (Splunk-style)",
      "key_elements": [
        "Sidebar shows metadata keys with value counts (e.g., 'productCode (4)')",
        "Clicking a key opens a popover for value selection",
        "Two match modes: 'Match any' (OR, checkboxes) or 'Match exactly' (AND, radio buttons)",
        "Instant apply - no submit button, changes filter results immediately",
        "Dynamic count updates as filters are applied",
        "Property filters (has-null, has-empty, optional, repeating) in sidebar",
        "Path text filter in sidebar"
      ],
      "table_changes": "Results table now has FIXED columns only (fieldPath, context, min, max, null, empty). Metadata is NO LONGER shown in table columns - it appears only in the detail panel.",
      "requirements_added": "REQ-3.8 (Faceted metadata filtering)",
      "requirements_updated": [
        "REQ-3.1 (no metadata columns)",
        "REQ-3.3 (left sidebar filtering)"
      ]
    }
  },
  "review_questions": {
    "implementation_readiness": [
      "Is the faceted filtering feature fully specified enough to implement without ambiguity?",
      "Are there any blocking gaps that would prevent a developer from building this?",
      "Is the component breakdown (FacetSidebar, MetadataFacet, FacetPopover, etc.) appropriate?",
      "Are the implementation phases properly sequenced with the new facet components?"
    ],
    "design_coherence": [
      "Does the left sidebar integrate well with the existing two-view search design (Quick Search vs Advanced Search)?",
      "With the detail panel on the right and facet sidebar on the left, is there enough horizontal space for the results table?",
      "Is there any redundancy or confusion between server-side metadata filtering (Advanced Search form) and client-side faceted filtering (sidebar)?",
      "Does removing metadata columns from the table create any usability issues?"
    ],
    "ux_concerns": [
      "Is the 'Match any (OR)' vs 'Match exactly (AND)' terminology clear to users?",
      "Is the popover approach for value selection intuitive, or would inline expansion be better?",
      "Is 'instant apply' (no Apply button) the right choice, or could rapid filter changes cause confusion?",
      "When switching from OR to AND mode, we uncheck all values. When switching AND to OR, we check all. Is this behavior intuitive?",
      "Should there be visual feedback when a filter is active beyond the dot indicator (e.g., 'productCode ‚óè 2/4')?"
    ],
    "edge_cases": [
      "What happens when all values in a facet are filtered out (count = 0)?",
      "What if a search returns results from 20+ contexts with many metadata keys - does the sidebar become unwieldy?",
      "How should the sidebar behave when there are zero results?",
      "What if a metadata key has 50+ distinct values - should there be a 'Show more' pattern or search within the popover?"
    ],
    "missing_features": [
      "Should there be a way to collapse/expand the sidebar to give more table space?",
      "Should keyboard shortcuts exist for common facet operations?",
      "Is there a need for 'save filter preset' or 'share filtered view' functionality?",
      "Should the URL encode facet filter state for shareability?"
    ],
    "consistency_check": [
      "Do all wireframes consistently show the new sidebar layout?",
      "Does the requirements traceability correctly map all new components to requirements?",
      "Are there any contradictions between REQUIREMENTS.md and IMPLEMENTATION.md?"
    ]
  },
  "output_format": {
    "structure": "Organize your review into: (1) Blockers - issues that must be resolved before implementation, (2) Recommendations - improvements that should be considered, (3) Questions - clarifications needed, (4) Validation - aspects that are well-designed and ready",
    "specificity": "Reference specific requirement IDs (e.g., REQ-3.8) or section names when identifying issues",
    "actionability": "For each issue or recommendation, suggest a concrete resolution if possible"
  },
  "reviewer_notes": [
    "This is a POC/first release - some features are intentionally deferred (e.g., tree view, saved searches)",
    "The backend is already implemented and supports all required API endpoints",
    "Target users are developers and analysts familiar with tools like Splunk and Kibana",
    "The 250-result limit is intentional for this release - no pagination"
  ]
}